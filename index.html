<!DOCTYPE html>
<html lang="id" x-data="{isDark: $persist(false)}" :class="{'dark': isDark}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live-MD</title>
    <link rel="shortcut icon" href="logo.png" type="image/x-icon">

    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script>
        tailwind.config = {
            darkMode: 'selector',
            theme: {
                extend: {
                },
            }
        }
    </script>
    <style type="text/tailwindcss">
        /* Header: Roboto */
        @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');
        
        /* Body: Inter */
        @import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');
        
        @layer base {
            html {
                font-family: "Inter", system-ui, sans-serif;
                scroll-behavior: smooth;
            }
            body {
                @apply antialiased min-h-svh;
            }
            h1, h2, h3, h4, h5, h6 {
                font-family: "Roboto", system-ui, sans-serif;
                @apply font-semibold text-balance;
            }
            h1{
                @apply text-4xl;
            }
            h2{
                @apply text-3xl;
            }
            h3{
                @apply text-2xl;
            }
            h4{
                @apply text-xl;
            }
            h5{
                @apply text-lg;
            }
            h6{
                @apply text-base;
            }
            p {
                max-width: 75ch;
                @apply text-pretty;
            }
        }
        @layer utilities {
            [x-cloak] {
                display: none !important;
            }

            /* Hide scrollbar for Chrome, Safari and Opera */
            .no-scrollbar::-webkit-scrollbar {
                display: none;
            }

            /* Hide scrollbar for IE, Edge and Firefox */
            .no-scrollbar {
                -ms-overflow-style: none;
                /* IE and Edge */
                scrollbar-width: none;
                /* Firefox */
            }
        }
    </style>
    <link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@4/dark.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- plugin alpineJS, myScript, core alpineJS -->
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/persist@3.x.x/dist/cdn.min.js"></script>
    <script>
        const initText = `# Markdown syntax guide

## Headers

# This is a Heading h1
## This is a Heading h2
###### This is a Heading h6

## Emphasis

*This text will be italic*  
_This will also be italic_

**This text will be bold**  
__This will also be bold__

_You **can** combine them_

## Lists

### Unordered

* Item 1
* Item 2
* Item 2a
* Item 2b

### Ordered

1. Item 1
2. Item 2
3. Item 3
    1. Item 3a
    2. Item 3b

## Images

![This is an alt text.](/sample.webp "This is a sample image.")

## Links

You may be using [Markdown Live Preview](https://markdownlivepreview.com/).

## Blockquotes

> Markdown is a lightweight markup language with plain-text-formatting syntax, created in 2004 by John Gruber with Aaron Swartz.
>
>> Markdown is often used to format readme files, for writing messages in online discussion forums, and to create rich text using a plain text editor.

## Tables

| Left columns  | Right columns |
| ------------- |:-------------:|
| left foo      | right foo     |
| left bar      | right bar     |
| left baz      | right baz     |

## Blocks of code

\`\`\`js
    let message = 'Hello world';
    alert(message);
\`\`\`

## Inline code

This web site is using \`markedjs / marked\`.

## Thanks
Big Thanks to [markdownlivepreview](https://markdownlivepreview.com/) who inspired me to make this project

`
    </script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

</head>

<body
    class="flex flex-col justify-between overflow-hidden bg-white h-svh text-slate-900 dark:bg-slate-900 dark:text-slate-100"
    @keyup.ctrl.space='isDark = !isDark'>
    <header class="py-3 border-b bg-slate-100 dark:bg-slate-800 border-b-slate-300 dark:border-b-slate-700">
        <nav class="flex items-center justify-between px-4 md:px-10 xl:container xl:mx-auto xl:px-0">
            <div class="flex items-center gap-x-2">
                <a href="/" class="mr-4">
                    <h1 class="sr-only">Live-MD</h1>
                    <img src="logo.png" alt="Live-MD" class="size-8 dark:invert">
                </a>
                <button type="button" @click='Swal.fire({
  title: "Are you sure?",
  text: "You wont be able to revert this!",
  icon: "warning",
  customClass: {
    popup: "text-slate-900 dark:text-white bg-slate-100 dark:bg-slate-900",
    title: "text-slate-900 dark:text-white",
    text: "text-slate-900 dark:text-white",
  },
  showCancelButton: true,
  confirmButtonColor: "#3085d6",
  cancelButtonColor: "#d33",
  confirmButtonText: "Yes, delete it!"
}).then((result) => {
  if (result.isConfirmed) {
    Alpine.$data(main).text = initText;
    Swal.fire({
        title: "Success!",
        icon: "success",
        customClass: {
            popup: "text-slate-900 dark:text-white bg-slate-100 dark:bg-slate-900",
            title: "text-slate-900 dark:text-white",
            text: "text-slate-900 dark:text-white",
        },
    });
  }
});' class="px-2 py-2 text-sm font-medium tracking-wide text-center transition bg-transparent cursor-pointer md:text-base xl:text-lg whitespace-nowrap rounded-xl text-slate-900 hover:opacity-75 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900 active:opacity-100 active:outline-offset-0 disabled:opacity-75 disabled:cursor-not-allowed dark:text-white dark:focus-visible:outline-white">
                    <span class="hidden md:inline">
                        reset
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-5 md:hidden">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" />
                    </svg>
                </button>
                <button type="button" @click="
                        navigator.clipboard.writeText(Alpine.$data(main).text);
                        Swal.fire({
                            title: 'Copied!',
                            icon: 'success',
                            customClass: {
                                popup: 'text-slate-900 dark:text-white bg-slate-100 dark:bg-slate-900',
                                title: 'text-slate-900 dark:text-white',
                                text: 'text-slate-900 dark:text-white',
                            },
                        });
                "
                    class="px-2 py-2 text-sm font-medium tracking-wide text-center transition bg-transparent cursor-pointer md:text-base xl:text-lg whitespace-nowrap rounded-xl text-slate-900 hover:opacity-75 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900 active:opacity-100 active:outline-offset-0 disabled:opacity-75 disabled:cursor-not-allowed dark:text-white dark:focus-visible:outline-white">
                    <span class="hidden md:inline">
                        copy
                    </span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-5 md:hidden">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184" />
                    </svg>
                </button>
                <button type="button" @click='isDark = !isDark'
                    class="inline-flex items-center px-2 py-2 text-sm font-medium tracking-wide text-center transition bg-transparent cursor-pointer gap-x-2 md:text-base xl:text-lg whitespace-nowrap rounded-xl text-slate-900 hover:opacity-75 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900 active:opacity-100 active:outline-offset-0 disabled:opacity-75 disabled:cursor-not-allowed dark:text-white dark:focus-visible:outline-white">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-5 md:hidden" x-cloak x-show="!isDark">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-5 md:hidden" x-cloak x-show="isDark">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
                    </svg>
                    <span class="hidden md:inline">
                        theme
                    </span>
                </button>
                <button type="button" id="scrollButton" x-data="{isScrollToBottom: $persist(true)}"
                    @click='isScrollToBottom = !isScrollToBottom'
                    class="inline-flex items-center px-2 py-2 text-sm font-medium tracking-wide text-center transition bg-transparent cursor-pointer gap-x-2 md:text-base xl:text-lg whitespace-nowrap rounded-xl text-slate-900 hover:opacity-75 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900 active:opacity-100 active:outline-offset-0 disabled:opacity-75 disabled:cursor-not-allowed dark:text-white dark:focus-visible:outline-white">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-5 md:hidden" x-cloak x-show="isScrollToBottom">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m8.25 3v6.75m0 0-3-3m3 3 3-3M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z" />
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="currentColor" class="size-5 md:hidden" x-cloak x-show="!isScrollToBottom">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z" />
                    </svg>
                    <div class="hidden md:inline">
                        auto scroll
                    </div>
                </button>
            </div>
            <a href="https://github.com/sejutaimpian/live-md">
                <img src="https://img.shields.io/github/stars/sejutaimpian/live-md?style=social"
                    alt="GitHub Repo stars">
            </a>
        </nav>
    </header>
    <main
        class="overflow-y-scroll no-scrollbar flex flex-col-reverse flex-1 md:flex-row divide-y-reverse divide-y-2 md:divide-y-0 md:divide-x-2  divide-slate-300 dark:divide-slate-700 [&>*]:p-4 md:[&>*]:p-10"
        x-data="{
            text: $persist(initText),
            get markedText() {
                return marked.parse(this.text);
            },
            scrollToBottom(){    
                if(!Alpine.$data(scrollButton).isScrollToBottom) return
                $refs.content.scrollTo(0, $refs.content.scrollHeight)
            }
        }" id="main">
        <textarea name="text" spellcheck="false" x-model="text"
            class="flex-1 leading-relaxed resize-none focus:outline-none bg-inherit no-scrollbar"
            placeholder="Write your markdown here..." @input='scrollToBottom'></textarea>
        <div class="flex-1 max-w-full overflow-y-scroll prose lg:prose-xl prose-slate no-scrollbar dark:prose-invert before:prose-code:content-none after:prose-code:content-none prose-code:font-normal prose-code:bg-slate-200 [&>pre>code]:bg-slate-800 dark:prose-code:bg-slate-700 dark:[&>pre>code]:text-slate-300 dark:[&>pre>code]:bg-slate-950 prose-code:px-2 prose-code:rounded-md [&>pre>code]:px-0"
            x-html="markedText" x-ref="content"></div>
    </main>
</body>

</html>